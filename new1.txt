@Override
public void initialize(BootstrapRegistry registry) {
    registry.register(RestTemplate.class, BootstrapContext context -> {
        SimpleClientHttpRequestFactory requestFactory = new SimpleClientHttpRequestFactory();
        try {
            return new CustomRestTemplate(requestFactory, tokenService(scvRepository(SCVKerberosToken())));
        } catch (Exception e) {
            throw new RuntimeException("Failed to initialize CustomRestTemplate", e);
        }
    });
}
